<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinica</title>
</head>
<style>
    #outAtendimento{
        color: blue;
    }
</style>
<body>
    <h1>Consultório Odontológico</h1>
    <p>Paciente:
        <input type="text" id="inPaciente" autofocus>
        <button id="btAdicionar">Adicionar</button>
        <button id="btUrgencia">Urgencia</button>
        <button id="btAtender">Atender</button>
    </p>
    <h3>Em atendimento
        <span id="outAtendimento" class="fonteAzul"></span>
    </h3>
    <pre id="outLista"></pre>

    <script>
        var pacientes = [];
        function adicionarPaciente(){
            var inPaciente = document.getElementById('inPaciente');
            var outLista = document.getElementById('outLista')

            var nome = inPaciente.value;

            if(nome == ""){
                alert('informe o nome do paciente');
                inPaciente.focus();
                return
            }

            pacientes.push(nome);

            var lista = "";

            for(i = 0; i < pacientes.length; i++){
                lista += (i + 1) + "." + pacientes[i]+ "\n"
            }

            outLista.textContent = lista;

            inPaciente.value = "";
            inPaciente.focus();

        }
        function inserirUrgencia(){
            var inPaciente = document.getElementById('inPaciente');
            var outLista = document.getElementById('outLista')

            var nome = inPaciente.value;

            if(nome == ""){
                alert('informe o nome do paciente');
                inPaciente.focus();
                return
            }

            pacientes.unshift(nome);

            var lista = "";

            for(i = 0; i < pacientes.length; i++){
                lista += (i + 1) + "." + pacientes[i]+ "\n"
            }

            outLista.textContent = lista;

            inPaciente.value = "";
            inPaciente.focus();

        }
        function atenderPaciente(){
            if(pacientes.length == 0){
                alert('Não há pacientes na lista de espera');
                inPaciente.focus()
                return
            }

            var outAtendimento = document.getElementById('outAtendimento');
            var outLista = document.getElementById('outLista');

            var atender = pacientes.shift();
            outAtendimento.textContent = atender;
            var lista = "";

            for(i = 0; i < pacientes.length; i++){
                lista +=(i + 1) + '. ' + pacientes[i] + '\n';
            }
            outLista.textContent = lista;
        }
        
        let btAdicionar = document.getElementById('btAdicionar');
        btAdicionar.addEventListener('click', adicionarPaciente)

        let btUrgencia = document.getElementById('btUrgencia')
        btUrgencia.addEventListener('click', inserirUrgencia)

        let btAtender = document.getElementById('btAtender')
        btAtender.addEventListener('click', atenderPaciente)
    </script>
</body>
</html>
